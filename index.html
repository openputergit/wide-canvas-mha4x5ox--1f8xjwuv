<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADHD Management Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
        }
        .task-complete {
            text-decoration: line-through;
            opacity: 0.7;
        }
        .timer-circle {
            transition: stroke-dashoffset 1s linear;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }
    </style>
</head>
<body>
    <div class="min-h-screen">
        <nav class="bg-blue-600 p-4">
            <div class="container mx-auto flex justify-between items-center">
                <h1 class="text-white text-2xl font-bold">ADHD Buddy</h1>
                <button id="settingsBtn" class="text-white"><i class="bi bi-gear-fill text-2xl"></i></button>
            </div>
        </nav>

        <main class="container mx-auto p-4">
            <!-- Task Management Section -->
            <section class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <h2 class="text-xl font-bold mb-4">Task Management</h2>
                <div class="flex gap-2 mb-4">
                    <input type="text" id="taskInput" class="flex-1 p-2 border rounded-lg" placeholder="Add a new task">
                    <button onclick="addTask()" class="bg-blue-600 text-white px-4 py-2 rounded-lg">Add</button>
                </div>
                <ul id="taskList" class="space-y-2"></ul>
            </section>

            <!-- Pomodoro Timer Section -->
            <section class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <h2 class="text-xl font-bold mb-4">Focus Timer</h2>
                <div class="flex flex-col items-center">
                    <div class="relative w-48 h-48">
                        <svg class="w-full h-full">
                            <circle cx="96" cy="96" r="88" stroke="#eee" stroke-width="12" fill="none"/>
                            <circle id="timerCircle" class="timer-circle" cx="96" cy="96" r="88" stroke="#3B82F6" stroke-width="12" fill="none" stroke-dasharray="553" stroke-dashoffset="0"/>
                        </svg>
                        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-3xl font-bold" id="timerDisplay">
                            25:00
                        </div>
                    </div>
                    <div class="mt-4 space-x-2">
                        <button id="startTimer" class="bg-blue-600 text-white px-4 py-2 rounded-lg">Start</button>
                        <button id="resetTimer" class="bg-gray-600 text-white px-4 py-2 rounded-lg">Reset</button>
                    </div>
                </div>
            </section>

            <!-- Reminders Section -->
            <section class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <h2 class="text-xl font-bold mb-4">Smart Reminders</h2>
                <div class="flex gap-2 mb-4">
                    <input type="text" id="reminderInput" class="flex-1 p-2 border rounded-lg" placeholder="Add a reminder">
                    <input type="datetime-local" id="reminderTime" class="p-2 border rounded-lg">
                    <button onclick="addReminder()" class="bg-blue-600 text-white px-4 py-2 rounded-lg">Set</button>
                </div>
                <ul id="reminderList" class="space-y-2"></ul>
            </section>

            <!-- Rewards Section -->
            <section class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-xl font-bold mb-4">Gentle Rewards & Reflection</h2>
                <div class="flex flex-col">
                    <button class="bg-blue-600 text-white px-4 py-2 rounded-lg mb-2" onclick="logMicroWin()">Log a Micro-Win</button>
                    <div id="microWins" class="space-y-2"></div>
                </div>
            </section>
        </main>
    </div>

    <script>
        // Task Management
        function addTask() {
            const input = document.getElementById('taskInput');
            const taskList = document.getElementById('taskList');
            if (input.value.trim()) {
                const li = document.createElement('li');
                li.className = 'flex items-center justify-between p-2 bg-gray-50 rounded-lg';
                li.innerHTML = `
                    <div class="flex items-center gap-2">
                        <input type="checkbox" onchange="toggleTask(this)">
                        <span>${input.value}</span>
                    </div>
                    <button onclick="deleteTask(this)" class="text-red-500"><i class="bi bi-trash"></i></button>
                `;
                taskList.appendChild(li);
                input.value = '';
            }
        }

        function toggleTask(checkbox) {
            const taskText = checkbox.nextElementSibling;
            taskText.classList.toggle('task-complete');
        }

        function deleteTask(button) {
            button.parentElement.remove();
        }

        // Pomodoro Timer
        let timerInterval;
        let timeLeft = 25 * 60; // 25 minutes in seconds
        const startButton = document.getElementById('startTimer');
        const resetButton = document.getElementById('resetTimer');
        const timerDisplay = document.getElementById('timerDisplay');
        const timerCircle = document.getElementById('timerCircle');
        const FULL_DASH_ARRAY = 553;

        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            return `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
        }

        function updateTimer() {
            if (timeLeft > 0) {
                timeLeft--;
                timerDisplay.textContent = formatTime(timeLeft);
                const circleDashoffset = ((timeLeft / (25 * 60)) * FULL_DASH_ARRAY);
                timerCircle.style.strokeDashoffset = FULL_DASH_ARRAY - circleDashoffset;
            } else {
                clearInterval(timerInterval);
                alert('Time is up!');
                resetTimer();
            }
        }

        startButton.addEventListener('click', () => {
            if (startButton.textContent === 'Start') {
                timerInterval = setInterval(updateTimer, 1000);
                startButton.textContent = 'Pause';
            } else {
                clearInterval(timerInterval);
                startButton.textContent = 'Start';
            }
        });

        resetButton.addEventListener('click', () => {
            clearInterval(timerInterval);
            timeLeft = 25 * 60;
            timerDisplay.textContent = formatTime(timeLeft);
            startButton.textContent = 'Start';
            timerCircle.style.strokeDashoffset = 0;
        });

        // Smart Reminders
        function addReminder() {
            const input = document.getElementById('reminderInput');
            const time = document.getElementById('reminderTime');
            const reminderList = document.getElementById('reminderList');

            if (input.value.trim() && time.value) {
                const li = document.createElement('li');
                li.className = 'flex items-center justify-between p-2 bg-gray-50 rounded-lg';
                li.innerHTML = `
                    <div>
                        <p class="font-medium">${input.value}</p>
                        <p class="text-sm text-gray-500">${new Date(time.value).toLocaleString()}</p>
                    </div>
                    <button onclick="deleteReminder(this)" class="text-red-500"><i class="bi bi-trash"></i></button>
                `;
                reminderList.appendChild(li);

                // Set actual reminder
                const reminderTime = new Date(time.value).getTime();
                const now = new Date().getTime();
                const delay = reminderTime - now;

                if (delay > 0) {
                    setTimeout(() => {
                        alert(`Reminder: ${input.value}`);
                    }, delay);
                }

                input.value = '';
                time.value = '';
            }
        }

        function deleteReminder(button) {
            button.parentElement.remove();
        }

        // Micro-Wins Logging
        function logMicroWin() {
            const microWins = document.getElementById('microWins');
            const winText = prompt("What is your micro-win?");
            if (winText) {
                const li = document.createElement('li');
                li.className = 'p-2 bg-gray-50 rounded-lg';
                li.innerText = winText;
                microWins.appendChild(li);
            }
        }

        // Initialize Timer Circle
        timerCircle.style.strokeDasharray = FULL_DASH_ARRAY;
    </script>
<script>document.body.addEventListener('wheel', e => { if (!e.ctrlKey) return; e.preventDefault(); return }, { passive: false })</script>
	</body>
</html>